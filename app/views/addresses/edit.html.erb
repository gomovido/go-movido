<div class="container subscription-container" data-controller="wifi-subscription">
  <figure class="big-blue-bubble position-absolute "></figure>
  <figure class="small-blue-bubble position-absolute  d-lg-block d-none"></figure>
  <figure class="small-yellow-bubble position-absolute"></figure>
  <figure class="big-purple-bubble position-fixed d-lg-block d-none"></figure>
  <div class="row d-flex align-center justify-content-center flex-column">
    <div class="col-md-12">
      <%= render 'subscriptions/steps', product: @subscription.product, current_step: @subscription.current_step(controller.controller_name), title: t('.title'), subtitle: t('.subtitle').html_safe, total_steps: @subscription.product.total_steps, congratulations: false %>
    </div>
    <div class="col-md-6 offset-md-3 mb-5">
      <div class="form-base mt-4 p-1">
        <%= simple_form_for [@subscription], :url => subscription_address_path, method: :put do |f| %>
          <%= f.simple_fields_for :address  do |s| %>
            <%= s.hidden_field :id, value: current_user.active_address.id%>
            <div class="mb-2">
              <%= s.input :street, required: true, readonly: true, hint: t('.form.hint.address'), input_html: {value: current_user.active_address.street, class:'form-control'} %>
              <div class="name-fields d-flex justify-content-between">
                <%= s.input :floor, class:'form-control' %>
                <%= s.input :building, label: t('.form.label.building'), class:'form-control' %>
              </div>
              <div class="name-fields d-flex justify-content-between">
                <%= s.input :stairs,  class:'form-control' %>
                <%= s.input :door, class:'form-control' %>
              </div>
            </div>
            <div class="mb-2">
              <%= s.input :gate_code, class:'form-control' %>
            </div>
          <% end %>
          <hr>
          <%= f.input :delivery_address, label: t('.form.label.delivery_address'), class:'form-control', input_html: { data: {wifi_subscription_target: 'delivery', country: @subscription.product.country}, placeholder: t('.form.placeholder', placeholder: t('activerecord.attributes.subscription.delivery_address')).capitalize} %>
          <div class="actions d-flex flex-column mt-5">
            <%= f.button :submit, t('.form.button.next'), class: 'btn-main mb-4'%>
            <%= link_to t('.form.button.back'), category_products_path(@subscription.product.category), class: 'btn-exit' %>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>
