<div class="container subscriptions-container" data-controller="wifi-subscription" style="background-image:url(<%= asset_path 'bg-form.png' %>);">
  <div class="step-2 mt-5 mb-4">
    <%= render 'subscriptions/steps', current_step: @subscription.current_step(controller.controller_name), title: t('steps.more_details'), total_steps: @subscription.product.total_steps %>
    <h2 class="text-center step-title mb-2"><%= t('step.address.title') %></h2>
    <h3 class="text-center mb-4"><%= t('step.address.subtitle').html_safe %></h3>
    <div class="row">
      <div class="col-md-6 offset-md-3">
        <div class="billing-form d-flex flex-column mb-4 p-4">
          <%= simple_form_for [@subscription], :url => subscription_address_path, method: :put do |f| %>
            <%= f.simple_fields_for :address  do |s| %>
              <%= s.hidden_field :id, value: current_user.active_address.id%>
              <div>
                <div class="input-wrapper mb-2">
                  <label for="address" class="mb-3 mr-2"><%= t('step.address.form.label.address') %></label>
                  <div class="input text-right d-flex justify-content-end pr-3">
                    <%= s.input :street, required: true, label: false, readonly: true, hint: t('step.address.form.hint.address'), input_html: {value: current_user.active_address.street, class:'form-control'} %>
                  </div>
                </div>
                <div class="d-flex">
                  <div class="input-wrapper mb-2">
                    <label for="floor" class="mb-3"><%= t('step.address.form.label.floor') %></label>
                    <div class="input text-right d-flex justify-content-end pr-3" >
                      <%= s.input :floor, class:'form-control', label: false %>
                    </div>
                  </div>
                  <div class="input-wrapper mb-2">
                    <label for="building" class="mb-3"><%= t('step.address.form.label.building') %></label>
                    <div class="input text-right d-flex justify-content-end pr-3" >
                      <%= s.input :building, label: false, class:'form-control' %>
                    </div>
                  </div>
                </div>
                <div class="d-flex">
                  <div class="input-wrapper mb-3">
                    <label for="stairs" class="mb-3"><%= t('step.address.form.label.stairs') %></label>
                    <div class="input text-right d-flex justify-content-end pr-3">
                      <%= s.input :stairs, label: false, class:'form-control' %>
                    </div>
                  </div>
                  <div class="input-wrapper mb-3">
                    <label for="door" class="mb-3"><%= t('step.address.form.label.door') %></label>
                    <div class="input text-right d-flex justify-content-end pr-3">
                      <%= s.input :door, label: false, class:'form-control' %>
                    </div>
                  </div>
                </div>
                <div class="input-wrapper mb-3">
                  <label for="gate_code" class="mb-3"><%= t('step.address.form.label.gate_code') %></label>
                  <div class="input text-right d-flex justify-content-end pr-3">
                    <%= s.input :gate_code, label: false, class:'form-control' %>
                  </div>
                </div>
                <% end %>
                <hr>
                <div class="input-wrapper mb-3">
                  <label for="delivery_address" class="mb-3"><%= t('step.address.form.label.delivery_address') %></label>
                  <div class="input text-right d-flex justify-content-end pr-3">
                    <%= f.input :delivery_address, label: false, class:'form-control', input_html: {data: {target: 'wifi-subscription.delivery', country: @subscription.product.country}} %>
                  </div>
                </div>
                <div class="actions d-flex justify-content-around">
                  <%= link_to t('step.address.form.button.back'), category_products_path(@subscription.product.category), class: 'btn btn-minor' %>
                  <%= f.button :submit, t('step.address.form.button.next'), class: 'btn-main'%>
                </div>
              </div>
          <% end %>
        </div>
      </div>
    </div>

  </div>

</div>
