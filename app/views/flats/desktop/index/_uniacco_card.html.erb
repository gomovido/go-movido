<div class="flat-card-large mb-4 row" id="<%= flat['code'] %>" data-action="click->map#moveMap">
  <div class="col-7">
    <div data-controller="carousel" class="swiper-container position-relative" data-carousel-options-value='{"pagination": {"el": ".swiper-pagination"}}'>
      <div class="swiper-wrapper position-relative">
        <% flat["images"].first(3).each do |image| %>
          <div class="swiper-slide img-box" style="background-image:url(<%= image['url'] %>);"></div>
        <% end %>
      </div>
      <div class="swiper-pagination"></div>
  </div>
  </div>
  <% facilities = flat['facilities'].first.reject{|v| v == 'sold_out'} %>
  <div class="col-5 d-flex flex-column justify-content-between">
    <span class="name mb-2"><%= flat['name'] %></span>
    <div class="facilities">
      <% facilities.each do |facility| %>
        <span class="facility mb-2 mr-2"><%= t("flats.index.#{facility}")  %> </span>
      <% end %>
    </div>
    <span class="pricing">
      <%= "#{flat['currency']}#{flat['min_price'].to_i} - #{flat['currency']}#{flat['max_price'].to_i}" %> /<%= flat['billing'].downcase %>
    </span>
    <%= link_to t('flats.index.details'), flat_path(location, type, flat['code']), class: 'btn-main'%>
  </div>
</div>

