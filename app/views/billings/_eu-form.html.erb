<div class="col-md-6 offset-md-3 mb-5">
  <div class="form-base">
    <%= simple_form_for [@subscription, @billing], data: {controller: "subscription"}, html: {id: 'billing-form', class:"d-flex flex-column"} do |f| %>
    <%= f.hidden_field :subscription_id, value: @subscription.id %>
    <div data-target="subscription.firstPart">
      <div class="form-inputs-wrapper mb-2">
        <i class="fas fa-info-circle" data-toggle="tooltip" data-placement="top" title="<%= t('step.billing.form.tooltip.iban') %>"></i>
        <%= f.input :iban, required: true, placeholder: "FR7630001007941234567890185", label: t('step.billing.form.label.iban'), input_html: {data: { target: 'subscription.ibanInput' , action: 'change->subscription#fillBank'}} %>
        <%= f.input :bic, class:'form-control', placeholder: "MISYGB22EXE", required: true, label: t('step.billing.form.label.bic'), input_html: {data: { target: 'subscription.bicInput' , action: 'change->subscription#enableButton'}} %>
        <%= f.input :bank, required: true, label: t('step.billing.form.label.bank'), readonly: true, hint: t('step.billing.form.hint.bank'), class:'form-control', input_html: {data: {target: 'subscription.bankInput' }} %>
       <hr>
        <%= f.input :address, required: true, label: t('step.billing.form.label.billing_address'), input_html: { class:'form-control', placeholder: "Enter your billing address here", data: {target: 'subscription.billingAddressInput', action: "change->subscription#enableButton"}} %>
      </div>
      <% if @subscription.product.is_mobile? && !@subscription.product.sim_needed %>
        <%= render 'billings/actions/mobile_no_sim', f: f%>
        <%= render 'billings/actions/classic', f: f, subscription: @subscription %>
      <% elsif @subscription.product.is_mobile? && @subscription.product.sim_needed%>
        <%= render 'billings/actions/mobile_with_sim', f: f %>
      <% else %>
        <%= render 'billings/actions/classic', f: f, subscription: @subscription %>
      <% end %>
    <% end %>
  </div>
</div>
