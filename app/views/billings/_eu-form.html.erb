<div class="row">
  <div class="col-md-6 offset-md-3">
    <div class="billing-form d-flex flex-column mb-4 p-4">
      <%= simple_form_for [@subscription, @billing], data: {controller: "subscription"}, html: {id: 'billing-form', class:"d-flex flex-column"} do |f| %>
      <%= f.hidden_field :subscription_id, value: @subscription.id %>
      <div data-target="subscription.firstPart">
        <div class="input-wrapper mb-2">
          <label for="iban" class="mb-3 mr-2"><%= t('step.billing.form.label.iban') %></label>
          <i class="fas fa-info-circle" data-toggle="tooltip" data-placement="top" title="<%= t('step.billing.form.tooltip.iban') %>"></i>
          <div class="input text-right d-flex justify-content-end pr-3">
            <i class="fas fa-lock"></i>
            <%= f.input :iban, label: false, required: true, label: false, input_html: {data: { target: 'subscription.ibanInput' , action: 'change->subscription#fillBank'}, class:'form-control pl-5'} %>
          </div>
        </div>
        <div class="input-wrapper mb-2">
          <label for="bic" class="mb-3"><%= t('step.billing.form.label.bic') %></label>
          <div class="input text-right d-flex justify-content-end pr-3" >
            <%= f.input :bic, class:'form-control', required: true, label: false, input_html: {data: { target: 'subscription.bicInput' , action: 'change->subscription#enableButton'}} %>
          </div>
        </div>
        <div class="input-wrapper mb-2">
          <label for="bank" class="mb-3"><%= t('step.billing.form.label.bank') %></label>
          <div class="input text-right d-flex justify-content-end pr-3" >
            <%= f.input :bank, required: true, label: false, readonly: true, hint: t('step.billing.form.hint.bank'), class:'form-control', input_html: {data: {target: 'subscription.bankInput' }} %>
          </div>
        </div>
        <hr>
        <div class="input-wrapper mb-3">
          <label for="address" class="mb-3"><%= t('step.billing.form.label.billing_address') %></label>
          <div class="input text-right d-flex justify-content-end pr-3">
            <%= f.input :address, required: true, label: false, input_html: {class:'form-control', data: {target: 'subscription.billingAddressInput', action: 'change->subscription#enableButton'}} %>
          </div>
        </div>
        <% if @subscription.product.is_mobile? && !@subscription.product.sim_needed %>
          <%= render 'billings/actions/mobile_no_sim', f: f%>
          <%= render 'billings/actions/classic', f: f, subscription: @subscription %>
        <% elsif @subscription.product.is_mobile? && @subscription.product.sim_needed%>
          <%= render 'billings/actions/mobile_with_sim', f: f %>
        <% else %>
          <%= render 'billings/actions/classic', f: f, subscription: @subscription %>
        <% end %>
      <% end %>
    </div>
  </div>
</div>
