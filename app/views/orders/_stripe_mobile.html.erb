<script src="https://js.stripe.com/v3/"></script>
<div class="col-md-6 offset-md-3 mb-5 stripe-wrapper">
  <div class="d-flex align-items-center">
     <div class="texts">
      <%= image_tag(asset_path('subscriptions/stripe.png'), class: 'mb-3') %>
      <h4 class="text-left"><strong><%= t('orders.stripe.connection') %></strong></h4>
      <span class="bit-info">HTTPS - 256-bit encryption - Stripe certified</span>
     </div>
  </div>
  <div class="form-base mt-2">
    <%= simple_form_for @subscription, url: "/order", method: :post, data: {controller: "order", locale: I18n.locale}, html: {id: 'payment-form'} do |f| %>
      <%= f.hidden_field :authenticity_token, value: form_authenticity_token %>
      <%= f.hidden_field :locale, value: params[:locale].to_s.strip.to_sym %>
      <%= f.hidden_field :subscription_id, value: @subscription.id %>
      <div class="form-divs-wrapper mb-5">
        <div class="form-group mb-0">
          <label for="card-number-element" class="my-3"><%= t('orders.stripe.number') %></label>
          <div id="card-number-element" class="form-control d-flex align-items-center stripe-input"></div>
          <div id="card-errors" class="mt-2" role="alert"></div>
        </div>
        <div class="name-fields d-flex justify-content-between">
          <div class="form-group">
            <label for="card-expiry-element" class="my-3"><%= t('orders.stripe.date') %></label>
            <div id="card-expiry-element" class="form-control stripe-input d-flex align-items-center"></div>
          </div>
          <div class="form-group">
            <label for="card-cvc-element" class="my-3">CVC</label>
            <div id="card-cvc-element" class="form-control stripe-input d-flex align-items-center"></div>
          </div>
        </div>
        <div class="form-group">
          <span class="legals text-justify">
            <%= t('orders.stripe.policy_link', href: link_to("Terms & Conditions | Stripe", "https://stripe.com/en-gb/privacy", target:"blank", class:'policy-link').html_safe).html_safe %>
          </span>
        </div>
        <%= f.button :submit, t('orders.stripe.pay'), class: 'btn-main w-100', data: {disable_with: false}%>
      </div>
    <% end %>
  </div>
</div>
